{% extends 'guser/index.html' %}
{% block title %}Edit Profile{% endblock title %}

{% block content %}
<section>
    <form method="post" style="width: 50%;margin:5% 25%" class="bg-gray-100 rounded-md p-2 md:p-6 profile_edit_form flex flex-col gap-4">
        <div class="flex items-center gap-2">
            <div class="flex-grow border-4 border-t"></div>
            <h2 class="text-blue text-4xl">Profile</h2>
            <div class="flex-grow border-4 border-t"></div>
        </div>
        {% csrf_token %}
        {% if message %}
        <p id="form-alert-message" style="color:red;text-align:center">{{message}}</p>
        {% endif %}
        <div class="flex items-center gap-4">
            <input style="padding-top: 7px;" name="username" placeholder="Username" value="{{user.username}}" class="bg-gray-300 w-full text-black h-10 rounded-lg pl-4">
        </div>
        <div class="flex items-center gap-4">
            <input style="padding-top: 7px;" name="firstname" placeholder="First Name" value="{{user.first_name}}" class="bg-gray-300 w-full text-black h-10 rounded-lg pl-4">
        </div>
        <div class="flex items-center gap-4">
            <input style="padding-top: 7px;" name="lastname" placeholder="Last Name" value="{{user.last_name}}" class="bg-gray-300 w-full text-black h-10 rounded-lg pl-4">
        </div>
        <div class="flex items-center gap-4">
            <input style="padding-top: 7px;" name="email" placeholder="Email" value="{{user.email}}" class="bg-gray-300 w-full text-black h-10 rounded-lg pl-4">
        </div>
        <div class="flex items-center gap-4">
            <input type="password" name="password" oninput="validatepassword()" id="password" placeholder="Password" class="bg-gray-300 w-full text-black h-10 rounded-lg pl-4" />
        </div>
        <div class="flex items-center gap-4">
            <input type="text" name="confirm_password" oninput="validatepassword()" id="confirm_password" placeholder="Confirm Password" class="bg-gray-300 w-full text-black h-10 rounded-lg pl-4" />
        </div>
        <p id="alert-password"></p>
        <button class="bg-darkblue text-white rounded-md p-2 w-full self-center hover:bg-gray-900">Submit</button>
        <script>
            function validatepassword(){
                if($('#password').val() == $('#confirm_password').val()){
                    $('#alert-password').text('Password Matched');
                    $('#alert-password').css('color', 'green');
                }else{
                    $('#alert-password').text('Password Not Matched');
                    $('#alert-password').css('color', 'red');
                }
            }
        </script>
    </form>
</section>
{% endblock %}